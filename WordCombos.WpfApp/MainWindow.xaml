<Window x:Class="WordCombos.WpfApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Word Combos" Height="520" Width="820" MinWidth="760" MinHeight="420">
    <Window.Resources>
        <Style x:Key="FieldLabel" TargetType="TextBlock">
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,0,6,0"/>
        </Style>
        <Style x:Key="FieldGroup" TargetType="StackPanel">
            <Setter Property="Orientation" Value="Horizontal"/>
            <Setter Property="Margin" Value="0,0,12,0"/>
        </Style>
    </Window.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>

            <RowDefinition Height="Auto"/>

            <RowDefinition Height="*"/>

            <RowDefinition Height="Auto"/>

        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Margin="0,0,0,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0" Text="Input file:" Style="{StaticResource FieldLabel}"/>
            <TextBox   Grid.Column="1" Text="{Binding InputPath, UpdateSourceTrigger=PropertyChanged}" Margin="8,0,8,0"/>
            <Button    Grid.Column="2" Content="Browse..." Command="{Binding BrowseCommand}" Width="100"/>
        </Grid>

        <DockPanel Grid.Row="1" LastChildFill="False" Margin="0,0,0,8">
            <Button Content="Run"
                    Command="{Binding RunCommand}"
                    Width="100" Height="32"
                    DockPanel.Dock="Right"
                    Margin="8,0,0,0"/>

            <WrapPanel Orientation="Horizontal">
                <StackPanel Style="{StaticResource FieldGroup}">
                    <TextBlock Text="Target length:" Style="{StaticResource FieldLabel}"/>
                    <TextBox Text="{Binding TargetLength}" Width="64"/>
                </StackPanel>

                <StackPanel Style="{StaticResource FieldGroup}">
                    <TextBlock Text="Min parts:" Style="{StaticResource FieldLabel}"/>
                    <TextBox Text="{Binding MinParts}" Width="64"/>
                </StackPanel>

                <StackPanel Style="{StaticResource FieldGroup}">
                    <TextBlock Text="Max parts:" Style="{StaticResource FieldLabel}"/>
                    <TextBox Text="{Binding MaxParts}" Width="64"/>
                </StackPanel>

                <StackPanel Style="{StaticResource FieldGroup}">
                    <TextBlock Text="Algorithm:" Style="{StaticResource FieldLabel}"/>
                    <ComboBox ItemsSource="{Binding Algorithms}"
                              SelectedItem="{Binding SelectedAlgorithm}"
                              Width="120"/>
                </StackPanel>

                <CheckBox Content="Allow reuse"
                          IsChecked="{Binding AllowReuse}"
                          VerticalAlignment="Center"
                          Margin="0,0,12,0"/>

                <CheckBox Content="Case-insensitive"
                          IsChecked="{Binding CaseInsensitive}"
                          VerticalAlignment="Center"
                          Margin="0,0,12,0"/>
            </WrapPanel>
        </DockPanel>

        <Border Grid.Row="2" BorderBrush="#DDD" BorderThickness="1" CornerRadius="6" Padding="8">
            <DockPanel>
                <TextBlock Text="{Binding Status}" DockPanel.Dock="Top" Margin="0,0,0,6" Foreground="#555"/>
                <ListBox ItemsSource="{Binding Results}" FontFamily="Consolas" FontSize="14"/>
            </DockPanel>
        </Border>
        <TextBlock Grid.Row="3" Text="Tip: choose your input.txt, adjust options, then press Run."
                   Foreground="#777"/>
    </Grid>
</Window>
